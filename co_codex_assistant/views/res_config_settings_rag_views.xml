<odoo>
  <record id="res_config_settings_view_form_codex_rag" model="ir.ui.view">
    <field name="name">res.config.settings.view.form.codex.rag</field>
    <field name="model">res.config.settings</field>
    <field name="inherit_id" ref="base.res_config_settings_view_form"/>
    <field name="arch" type="xml">
      <xpath expr="//app[@name='general_settings']" position="inside">
        <block title="Codex RAG" name="codex_rag_settings">
          <setting string="Embeddings Model" name="codex_embed_model_setting">
            <field name="codex_embed_model" placeholder="text-embedding-3-small"/>
          </setting>
          <setting string="Models to Index (CSV)" name="codex_rag_models_setting">
            <field name="codex_rag_models" placeholder="helpdesk.ticket,mail.message"/>
          </setting>
          <setting string="Fields to Index (CSV)" name="codex_rag_fields_setting">
            <field name="codex_rag_fields" placeholder="name,description,body"/>
          </setting>
          <setting string="Retrieve Top-K" name="codex_rag_topk_setting">
            <field name="codex_rag_topk"/>
          </setting>
          <setting string="Chunk Size (chars)" name="codex_rag_chunk_setting">
            <field name="codex_rag_chunk"/>
          </setting>
          <div class="text-muted mt-2">
            The indexer respects access rights and only processes records the current user can read.
          </div>
        </block>
      </xpath>
    </field>
  </record>
</odoo>
